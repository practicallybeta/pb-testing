<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>2026 Insights | Practically Beta</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      min-height: 100vh;
      background: linear-gradient(135deg, #050510 0%, #0d0820 50%, #080515 100%);
      overflow-x: hidden;
      color: #fff;
    }

    /* Stars background */
    .stars {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
    }

    /* Pointed star shape */
    .star {
      position: absolute;
      background: white;
      clip-path: polygon(
        50% 0%, 61% 35%, 98% 35%, 68% 57%,
        79% 91%, 50% 70%, 21% 91%, 32% 57%,
        2% 35%, 39% 35%
      );
      animation: twinkle var(--duration) ease-in-out infinite;
      opacity: 0;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.3; transform: scale(1) rotate(0deg); }
      50% { opacity: 1; transform: scale(1.3) rotate(10deg); }
    }

    /* Shooting stars */
    .shooting-star {
      position: fixed;
      width: 250px;
      height: 3px;
      background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 40%, rgba(167,139,250,1) 70%, rgba(96,165,250,1) 100%);
      border-radius: 2px;
      animation: shoot linear forwards;
      opacity: 0;
      z-index: 2;
      filter: drop-shadow(0 0 6px rgba(167, 139, 250, 0.8));
    }

    @keyframes shoot {
      0% { transform: translateX(0) translateY(0); opacity: 1; }
      70% { opacity: 1; }
      100% { transform: translateX(-700px) translateY(400px); opacity: 0; }
    }

    /* Neural mesh background - moves with brains */
    .neural-mesh {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 1600px;
      height: 1000px;
      pointer-events: none;
      z-index: 1;
      opacity: 1;
    }

    .mesh-node {
      position: absolute;
      border-radius: 50%;
      animation: meshPulse var(--pulse) ease-in-out infinite;
    }

    @keyframes meshPulse {
      0%, 100% { opacity: 0.4; transform: scale(1); }
      50% { opacity: 0.8; transform: scale(1.2); }
    }

    .mesh-line {
      stroke: #4a90d9;
      stroke-width: 0.6;
      fill: none;
      opacity: 0.25;
    }

    /* Header */
    .header {
      text-align: center;
      padding: 40px 20px 20px;
      position: relative;
      z-index: 20;
    }

    .header h1 {
      font-size: 2.5rem;
      background: linear-gradient(135deg, #a78bfa 0%, #60a5fa 50%, #f9a8d4 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 12px;
    }

    .header p {
      color: #a5b4c4;
      font-size: 1.1rem;
      max-width: 600px;
      margin: 0 auto;
    }

    /* Neural Network Container */
    .neural-container {
      position: relative;
      width: 100%;
      max-width: 1200px;
      height: 800px;
      margin: 0 auto;
      z-index: 10;
    }

    /* SVG Connections for interactive brains */
    .connections {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 5;
    }

    .connection-line {
      stroke: url(#connectionGradient);
      stroke-width: 3;
      fill: none;
      opacity: 0.6;
      transition: opacity 0.3s ease, stroke-width 0.3s ease;
    }

    .connection-line.highlight {
      opacity: 1;
      stroke-width: 5;
      filter: drop-shadow(0 0 8px rgba(167, 139, 250, 0.8));
    }

    /* Brain Nodes */
    .brain-node {
      position: absolute;
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: pointer;
      z-index: 15;
      transition: transform 0.3s ease;
    }

    .brain-node:hover {
      transform: scale(1.08);
    }

    .brain-node:hover .brain-glow {
      opacity: 0.7;
    }

    .brain-visual {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .brain-glow {
      position: absolute;
      border-radius: 50%;
      background: radial-gradient(circle, var(--glow-color) 0%, transparent 70%);
      opacity: 0.4;
      transition: opacity 0.3s ease;
      animation: pulse var(--pulse-speed, 4s) ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 0.4; }
      50% { transform: scale(1.15); opacity: 0.6; }
    }

    .brain-icon {
      font-size: var(--brain-size, 3rem);
      z-index: 2;
      filter: drop-shadow(0 0 15px var(--glow-color));
      animation: float var(--float-speed, 6s) ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    .brain-label {
      margin-top: 12px;
      font-size: 0.85rem;
      color: #c4b5fd;
      text-align: center;
      max-width: 140px;
      line-height: 1.4;
      text-shadow: 0 2px 10px rgba(0,0,0,0.8);
      transition: color 0.3s ease;
    }

    .brain-node:hover .brain-label {
      color: #e9d5ff;
    }

    /* Expanded Content - FULLY OPAQUE */
    .insight-content {
      position: absolute;
      top: calc(100% + 20px);
      left: 50%;
      transform: translateX(-50%);
      width: 320px;
      background: #1a1230;
      border: 2px solid rgba(167, 139, 250, 0.5);
      border-radius: 16px;
      padding: 20px;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.9), 0 0 30px rgba(167, 139, 250, 0.2);
      z-index: 1000;
    }

    .brain-node.active .insight-content {
      opacity: 1;
      visibility: visible;
    }

    .insight-content h3 {
      color: #a78bfa;
      font-size: 1rem;
      margin-bottom: 10px;
    }

    .insight-content p {
      color: #d4d4e4;
      font-size: 0.9rem;
      line-height: 1.6;
    }

    .insight-close {
      position: absolute;
      top: 10px;
      right: 12px;
      background: none;
      border: none;
      color: #8892a2;
      font-size: 1.4rem;
      cursor: pointer;
      transition: color 0.2s;
      line-height: 1;
    }

    .insight-close:hover {
      color: #fff;
    }

    /* Footer */
    .footer {
      text-align: center;
      padding: 40px 20px;
      color: #6b7280;
      font-size: 0.85rem;
      position: relative;
      z-index: 20;
    }

    .footer a {
      color: #a78bfa;
      text-decoration: none;
    }

    /* Responsive */
    @media (max-width: 900px) {
      .neural-container {
        height: 1200px;
      }
      .header h1 {
        font-size: 1.8rem;
      }
      .neural-mesh {
        width: 100%;
        height: 100%;
      }
    }
  </style>
</head>
<body>
  <!-- Stars -->
  <div class="stars" id="stars"></div>

  <!-- Header -->
  <div class="header">
    <h1>2026 Insights</h1>
    <p>Interconnected perspectives on AI, talent, and the systems shaping our future.</p>
  </div>

  <!-- Neural Network -->
  <div class="neural-container" id="neural-container">
    <!-- Neural Mesh Background - inside container so it moves with brains -->
    <svg class="neural-mesh" id="neural-mesh" viewBox="0 0 1600 1000" preserveAspectRatio="xMidYMid meet">
      <defs>
        <linearGradient id="meshGradient" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:#60a5fa;stop-opacity:0.5" />
          <stop offset="50%" style="stop-color:#a78bfa;stop-opacity:0.6" />
          <stop offset="100%" style="stop-color:#f472b6;stop-opacity:0.5" />
        </linearGradient>
      </defs>
      <!-- Mesh lines and nodes generated by JS -->
    </svg>

    <!-- SVG Connections drawn by JS -->
    <svg class="connections" id="connections">
      <defs>
        <linearGradient id="connectionGradient" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" style="stop-color:#a78bfa;stop-opacity:0.8" />
          <stop offset="50%" style="stop-color:#60a5fa;stop-opacity:1" />
          <stop offset="100%" style="stop-color:#f9a8d4;stop-opacity:0.8" />
        </linearGradient>
      </defs>
    </svg>

    <!-- Brain Nodes - All uniform size, tighter layout -->
    <!-- Node 1: Compensation -->
    <div class="brain-node" data-id="compensation" style="left: 8%; top: 15%;">
      <div class="brain-visual">
        <div class="brain-glow" style="width: 140px; height: 140px; --glow-color: #a78bfa;"></div>
        <span class="brain-icon" style="--brain-size: 6rem; --glow-color: #a78bfa; --float-speed: 5s;">ðŸ§ </span>
      </div>
      <span class="brain-label">"If I stay, will my pay go up?"</span>
      <div class="insight-content">
        <button class="insight-close" onclick="closeInsight(event)">Ã—</button>
        <h3>Compensation Outlook</h3>
        <p>If you're in healthcare or construction, a tight labor supply will likely push employers to compensate appropriately. Unfortunately, white-collar and manufacturing workers will continue facing a tough job market, giving employers the advantage.</p>
      </div>
    </div>

    <!-- Node 2: Job Market -->
    <div class="brain-node" data-id="jobmarket" style="left: 38%; top: 5%;">
      <div class="brain-visual">
        <div class="brain-glow" style="width: 140px; height: 140px; --glow-color: #60a5fa;"></div>
        <span class="brain-icon" style="--brain-size: 6rem; --glow-color: #60a5fa; --float-speed: 7s;">ðŸ§ </span>
      </div>
      <span class="brain-label">The Real Job Market</span>
      <div class="insight-content">
        <button class="insight-close" onclick="closeInsight(event)">Ã—</button>
        <h3>Beyond the Headlines</h3>
        <p>Official numbers don't tell the full story. Payroll data has shown negative actual job growth for consecutive months while headlines report gains. The discrepancy matters for your career planning.</p>
      </div>
    </div>

    <!-- Node 3: AI - Main Node -->
    <div class="brain-node" data-id="ai-main" style="left: 72%; top: 10%;">
      <div class="brain-visual">
        <div class="brain-glow" style="width: 140px; height: 140px; --glow-color: #f9a8d4;"></div>
        <span class="brain-icon" style="--brain-size: 6rem; --glow-color: #f9a8d4; --float-speed: 6s;">ðŸ§ </span>
      </div>
      <span class="brain-label">AI & Work</span>
      <div class="insight-content">
        <button class="insight-close" onclick="closeInsight(event)">Ã—</button>
        <h3>The AI Transformation</h3>
        <p>AI isn't replacing jobs uniformly â€” it's reshaping what work looks like. The question isn't "will AI take my job?" but "how will AI change what my job requires?"</p>
      </div>
    </div>

    <!-- Node 4: AI Sub-node 1 -->
    <div class="brain-node" data-id="ai-skills" style="left: 85%; top: 32%;">
      <div class="brain-visual">
        <div class="brain-glow" style="width: 140px; height: 140px; --glow-color: #f9a8d4;"></div>
        <span class="brain-icon" style="--brain-size: 6rem; --glow-color: #f9a8d4; --float-speed: 5s;">ðŸ§ </span>
      </div>
      <span class="brain-label">AI Fluency Gap</span>
      <div class="insight-content">
        <button class="insight-close" onclick="closeInsight(event)">Ã—</button>
        <h3>The Skills Divide</h3>
        <p>Those who learn to work WITH AI will accelerate. Those who resist will find themselves competing against augmented colleagues.</p>
      </div>
    </div>

    <!-- Node 5: AI Sub-node 2 -->
    <div class="brain-node" data-id="ai-ethics" style="left: 60%; top: 35%;">
      <div class="brain-visual">
        <div class="brain-glow" style="width: 140px; height: 140px; --glow-color: #c4b5fd;"></div>
        <span class="brain-icon" style="--brain-size: 6rem; --glow-color: #c4b5fd; --float-speed: 4s;">ðŸ§ </span>
      </div>
      <span class="brain-label">AI Ethics & Safety</span>
      <div class="insight-content">
        <button class="insight-close" onclick="closeInsight(event)">Ã—</button>
        <h3>The Responsibility Layer</h3>
        <p>As AI scales, the gap between capability and governance widens. Organizations that invest in ethical frameworks now will have competitive advantage later.</p>
      </div>
    </div>

    <!-- Node 6: Federal Workforce -->
    <div class="brain-node" data-id="federal" style="left: 20%; top: 38%;">
      <div class="brain-visual">
        <div class="brain-glow" style="width: 140px; height: 140px; --glow-color: #60a5fa;"></div>
        <span class="brain-icon" style="--brain-size: 6rem; --glow-color: #60a5fa; --float-speed: 6.5s;">ðŸ§ </span>
      </div>
      <span class="brain-label">Federal Workforce</span>
      <div class="insight-content">
        <button class="insight-close" onclick="closeInsight(event)">Ã—</button>
        <h3>Public Sector Exodus</h3>
        <p>43% of federal workers are reconsidering public service. Mission-driven work is colliding with systemic dysfunction. The talent drain will reshape government capability for years.</p>
      </div>
    </div>

    <!-- Node 7: Economic Reality -->
    <div class="brain-node" data-id="economy" style="left: 42%; top: 42%;">
      <div class="brain-visual">
        <div class="brain-glow" style="width: 140px; height: 140px; --glow-color: #fbbf24;"></div>
        <span class="brain-icon" style="--brain-size: 6rem; --glow-color: #fbbf24; --float-speed: 7.5s;">ðŸ§ </span>
      </div>
      <span class="brain-label">Economic Indicators</span>
      <div class="insight-content">
        <button class="insight-close" onclick="closeInsight(event)">Ã—</button>
        <h3>The Real Numbers</h3>
        <p>Credit card delinquencies, BNPL usage, fast food spending patterns â€” tangential indicators tell a different story than official narratives. Follow the actual money.</p>
      </div>
    </div>

    <!-- Node 8: Talent Strategy -->
    <div class="brain-node" data-id="talent" style="left: 5%; top: 58%;">
      <div class="brain-visual">
        <div class="brain-glow" style="width: 140px; height: 140px; --glow-color: #34d399;"></div>
        <span class="brain-icon" style="--brain-size: 6rem; --glow-color: #34d399; --float-speed: 5.5s;">ðŸ§ </span>
      </div>
      <span class="brain-label">Talent Strategy</span>
      <div class="insight-content">
        <button class="insight-close" onclick="closeInsight(event)">Ã—</button>
        <h3>Retention Over Recruitment</h3>
        <p>In a shifting market, the smartest organizations are focusing on developing internal talent rather than competing for external hires. The war for talent is becoming the war for development.</p>
      </div>
    </div>

    <!-- Node 9: Learning & Development -->
    <div class="brain-node" data-id="learning" style="left: 30%; top: 65%;">
      <div class="brain-visual">
        <div class="brain-glow" style="width: 140px; height: 140px; --glow-color: #a78bfa;"></div>
        <span class="brain-icon" style="--brain-size: 6rem; --glow-color: #a78bfa; --float-speed: 6s;">ðŸ§ </span>
      </div>
      <span class="brain-label">Learning Evolution</span>
      <div class="insight-content">
        <button class="insight-close" onclick="closeInsight(event)">Ã—</button>
        <h3>From Training to Transformation</h3>
        <p>Traditional L&D is dying. Microlearning, just-in-time development, and AI-assisted skill building are replacing the annual training calendar.</p>
      </div>
    </div>

    <!-- Node 10: Competencies -->
    <div class="brain-node" data-id="competencies" style="left: 58%; top: 62%;">
      <div class="brain-visual">
        <div class="brain-glow" style="width: 140px; height: 140px; --glow-color: #f472b6;"></div>
        <span class="brain-icon" style="--brain-size: 6rem; --glow-color: #f472b6; --float-speed: 5s;">ðŸ§ </span>
      </div>
      <span class="brain-label">Competency Shift</span>
      <div class="insight-content">
        <button class="insight-close" onclick="closeInsight(event)">Ã—</button>
        <h3>What Actually Matters</h3>
        <p>Adaptability, systems thinking, and human-AI collaboration are becoming core competencies. Technical skills have a shorter half-life than ever.</p>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <div class="footer">
    <p>Â© 2026 <a href="https://practicallybeta.com">Practically Beta</a> | Thinking in beta. Building boldly.</p>
  </div>

  <script>
    // Generate pointed stars
    function createStars() {
      const starsContainer = document.getElementById('stars');
      const starCount = 200;

      for (let i = 0; i < starCount; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        star.style.left = Math.random() * 100 + '%';
        star.style.top = Math.random() * 100 + '%';
        const size = Math.random() * 6 + 3;
        star.style.width = size + 'px';
        star.style.height = size + 'px';
        star.style.setProperty('--duration', (Math.random() * 4 + 2) + 's');
        star.style.animationDelay = Math.random() * 5 + 's';
        starsContainer.appendChild(star);
      }
    }

    // Create shooting stars periodically
    function createShootingStar() {
      const star = document.createElement('div');
      star.className = 'shooting-star';

      // Random starting position (top or right side)
      const startFromTop = Math.random() > 0.5;
      if (startFromTop) {
        star.style.top = Math.random() * 30 + '%';
        star.style.right = Math.random() * 30 + '%';
      } else {
        star.style.top = Math.random() * 20 + '%';
        star.style.right = Math.random() * 20 + '%';
      }

      // Random duration and angle
      const duration = Math.random() * 1 + 0.8;
      star.style.animationDuration = duration + 's';
      star.style.transform = `rotate(${Math.random() * 30 + 30}deg)`;

      document.body.appendChild(star);

      // Remove after animation
      setTimeout(() => star.remove(), duration * 1000);
    }

    // Schedule shooting stars - more frequent
    function scheduleShootingStars() {
      // Random interval between 3-8 seconds
      const interval = Math.random() * 5000 + 3000;
      setTimeout(() => {
        createShootingStar();
        scheduleShootingStars();
      }, interval);
    }

    // Fire one immediately so user sees it
    setTimeout(createShootingStar, 1500);

    // Generate subtle, wide neural mesh background
    function createNeuralMesh() {
      const svg = document.getElementById('neural-mesh');
      const width = 1600;
      const height = 1000;
      const nodeCount = 150;
      const nodes = [];

      // Create nodes spread wider across the entire area
      for (let i = 0; i < nodeCount; i++) {
        const angle = Math.random() * Math.PI * 2;
        // Wider spread to cover all brain positions
        const radiusX = (Math.random() * 0.5 + 0.2) * width * 0.45;
        const radiusY = (Math.random() * 0.5 + 0.2) * height * 0.42;

        const x = width / 2 + Math.cos(angle) * radiusX + (Math.random() - 0.5) * 200;
        const y = height / 2 + Math.sin(angle) * radiusY * 0.9 + (Math.random() - 0.5) * 150;

        if (x > 50 && x < width - 50 && y > 50 && y < height - 50) {
          nodes.push({ x, y });

          // Create small node dots
          const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
          circle.setAttribute('cx', x);
          circle.setAttribute('cy', y);

          // Small nodes
          const size = Math.random() * 2 + 1;
          circle.setAttribute('r', size);

          // Colorful nodes
          const colors = ['#60a5fa', '#a78bfa', '#f472b6', '#fbbf24', '#34d399', '#f9a8d4', '#fb923c'];
          const color = colors[Math.floor(Math.random() * colors.length)];
          circle.setAttribute('fill', color);
          circle.setAttribute('opacity', Math.random() * 0.4 + 0.3);

          // Subtle pulse
          circle.style.animation = `meshPulse ${Math.random() * 5 + 4}s ease-in-out infinite`;
          circle.style.animationDelay = Math.random() * 4 + 's';

          svg.appendChild(circle);
        }
      }

      // Create connections - sparse, subtle web
      for (let i = 0; i < nodes.length; i++) {
        for (let j = i + 1; j < nodes.length; j++) {
          const dist = Math.sqrt(
            Math.pow(nodes[i].x - nodes[j].x, 2) +
            Math.pow(nodes[i].y - nodes[j].y, 2)
          );

          // Sparse connections for subtle background effect
          if (dist < 150 && Math.random() > 0.65) {
            const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
            line.setAttribute('x1', nodes[i].x);
            line.setAttribute('y1', nodes[i].y);
            line.setAttribute('x2', nodes[j].x);
            line.setAttribute('y2', nodes[j].y);
            line.setAttribute('class', 'mesh-line');
            svg.appendChild(line);
          }
        }
      }

      console.log('Neural mesh created with', nodes.length, 'nodes');
    }

    // Draw connections between interactive brain nodes
    function drawConnections() {
      const svg = document.getElementById('connections');
      const container = document.getElementById('neural-container');
      const containerRect = container.getBoundingClientRect();

      // Define connections
      const connections = [
        ['compensation', 'jobmarket'],
        ['jobmarket', 'ai-main'],
        ['compensation', 'ai-main'],
        ['ai-main', 'ai-skills'],
        ['ai-main', 'ai-ethics'],
        ['ai-skills', 'ai-ethics'],
        ['jobmarket', 'economy'],
        ['jobmarket', 'federal'],
        ['jobmarket', 'ai-ethics'],
        ['compensation', 'federal'],
        ['compensation', 'economy'],
        ['federal', 'economy'],
        ['economy', 'ai-ethics'],
        ['ai-ethics', 'competencies'],
        ['ai-skills', 'competencies'],
        ['federal', 'talent'],
        ['talent', 'learning'],
        ['learning', 'competencies'],
        ['learning', 'economy'],
        ['talent', 'economy'],
        ['talent', 'compensation'],
        ['learning', 'ai-skills'],
        ['competencies', 'ai-main'],
        ['federal', 'learning'],
        ['compensation', 'talent'],
        ['economy', 'competencies'],
        ['ai-main', 'economy'],
        ['jobmarket', 'competencies']
      ];

      connections.forEach(([from, to]) => {
        const fromNode = document.querySelector(`[data-id="${from}"]`);
        const toNode = document.querySelector(`[data-id="${to}"]`);

        if (fromNode && toNode) {
          const fromRect = fromNode.getBoundingClientRect();
          const toRect = toNode.getBoundingClientRect();

          const x1 = fromRect.left - containerRect.left + fromRect.width / 2;
          const y1 = fromRect.top - containerRect.top + fromRect.height / 3;
          const x2 = toRect.left - containerRect.left + toRect.width / 2;
          const y2 = toRect.top - containerRect.top + toRect.height / 3;

          const line = document.createElementNS('http://www.w3.org/2000/svg', 'path');

          // Create curved line
          const midX = (x1 + x2) / 2;
          const midY = (y1 + y2) / 2 - 30;
          const d = `M ${x1} ${y1} Q ${midX} ${midY} ${x2} ${y2}`;

          line.setAttribute('d', d);
          line.setAttribute('class', 'connection-line');
          line.setAttribute('data-from', from);
          line.setAttribute('data-to', to);
          svg.appendChild(line);
        }
      });
    }

    // Node click handling
    document.querySelectorAll('.brain-node').forEach(node => {
      node.addEventListener('click', function(e) {
        if (e.target.classList.contains('insight-close')) return;

        const wasActive = this.classList.contains('active');

        // Close all others
        document.querySelectorAll('.brain-node').forEach(n => n.classList.remove('active'));

        // Toggle this one
        if (!wasActive) {
          this.classList.add('active');

          // Highlight connected lines
          const nodeId = this.dataset.id;
          document.querySelectorAll('.connection-line').forEach(line => {
            if (line.dataset.from === nodeId || line.dataset.to === nodeId) {
              line.classList.add('highlight');
            } else {
              line.classList.remove('highlight');
            }
          });
        } else {
          document.querySelectorAll('.connection-line').forEach(line => {
            line.classList.remove('highlight');
          });
        }
      });
    });

    function closeInsight(e) {
      e.stopPropagation();
      const node = e.target.closest('.brain-node');
      node.classList.remove('active');
      document.querySelectorAll('.connection-line').forEach(line => {
        line.classList.remove('highlight');
      });
    }

    // Close when clicking outside
    document.addEventListener('click', function(e) {
      if (!e.target.closest('.brain-node')) {
        document.querySelectorAll('.brain-node').forEach(n => n.classList.remove('active'));
        document.querySelectorAll('.connection-line').forEach(line => {
          line.classList.remove('highlight');
        });
      }
    });

    // Initialize
    createStars();
    createNeuralMesh();
    scheduleShootingStars();
    setTimeout(drawConnections, 100);
    window.addEventListener('resize', () => {
      document.querySelectorAll('.connection-line').forEach(l => l.remove());
      drawConnections();
    });
  </script>
</body>
</html>
